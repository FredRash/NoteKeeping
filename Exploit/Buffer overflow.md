
STEPS TO CONDUCT THE ATTACK
1. Spiking
2. Fuzzing
3. Finding the Offset
4. Overwriting the EIP
5. Finding Bad Characters
6. Finding the Right Module
7. Generating Shellcode
8. Root!


**SPIKING**
Going over command in a server to crash it.
when spiking there is a tool name generoc_send_tcp.
when using the tool we need to make a file that sends spk commands to the server like this

s_readline();
s_string("COMMAND ");
s_string_variable("0");

exemple: generic_send_tcp 192.168.1.53 9999 exemple.spk 0 0


FUZZING
The same as spiking but with a python script.


FINDING THE OFFSET
Finding where we overwrite the EIP
we will use the tool pattern_create

To open it -> /usr/share/metasploit-framework/tools/exploit/pattern_create.rb -l [bytes]
this will generate a string at the length we gave it, then write a script to send it to the AD server.

After that we will use the pattern_offset.rb to find where is the offset on the string.
Finding the offset -> /usr/share/metasploit-framework/tools/exploit/pattern_offset.rb -l [bytes] -q [offset]


OVERWRRITING THE EIP
Send a string that have the length of where is the offset and try to write something.


FINDING BAD CHARACTERS
We need to find what characters work at the EIP and what not.
There is a python tool in cytopia/badcharts for that perpouse.
DELETE x00 because it's knowen to be bad!
Then we will eye test what character looks funny.


FINDING THE RIGHT MODULE
We try to find a dll inside a program with no memory protection

try to use the mona tool.
PUT THE FILE  IN PyCommands FOLDER!

